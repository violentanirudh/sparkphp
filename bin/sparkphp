#!/usr/bin/env php
<?php

$command = $argv[1] ?? null;
$projectName = $argv[2] ?? null;

if ($command === 'new' && $projectName) {
    echo "Creating new SparkPHP project: $projectName\n";
    $skeleton = __DIR__ . '/../templates';
    $target = getcwd() . '/' . $projectName;

    if (!file_exists($target)) {
        mkdir($target, 0777, true);
        shell_exec("cp -r $skeleton/* $target");
        echo "Project created in $projectName\n";
    } else {
        echo "Directory already exists.\n";
    }
} else {
    echo "Usage: sparkphp new project-name\n";
}
